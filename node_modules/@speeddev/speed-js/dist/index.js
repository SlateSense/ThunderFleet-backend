!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(self,(()=>(()=>{"use strict";var e={917:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_ALLOWED_LENGTH_META_DATA=t.MAX_ALLOWED_LENGTH_VALUE=t.MAX_ALLOWED_LENGTH_KEY=t.MAX_ALLOWED_LENGTH_PAYMENT_METHODS=t.MAX_ALLOWED_LENGTH_SUCCESS_MESSAGE=t.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL=t.DIGIT_IN_AMOUNT=t.apiUrlProd=t.apiUrlDev=t.DATA_TYPES=t.supportedPaymentMethods=t.speedVersion=void 0,t.speedVersion="2022-10-15",t.supportedPaymentMethods=["onchain","lightning"],t.DATA_TYPES=["string","number","boolean"],t.apiUrlDev="https://api.tryspeed.dev",t.apiUrlProd="https://api.tryspeed.com",t.DIGIT_IN_AMOUNT=16,t.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL=2048,t.MAX_ALLOWED_LENGTH_SUCCESS_MESSAGE=255,t.MAX_ALLOWED_LENGTH_PAYMENT_METHODS=2,t.MAX_ALLOWED_LENGTH_KEY=40,t.MAX_ALLOWED_LENGTH_VALUE=500,t.MAX_ALLOWED_LENGTH_META_DATA=50},33:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.handleValidation=t.handleUniqeKeyMetadata=t.checkStringLength=t.validatePublishableKey=void 0;var n=r(492),o=r(819),a=r(917);t.validatePublishableKey=function(e){if(void 0===e)throw new Error(o.publishableKeyRequired);if("string"!=typeof e)throw new Error(o.invalidPublishableKey(e));if(!e.length)throw new Error(o.publishableKeyShouldBeString);return!0},t.checkStringLength=function(e){return!!e.length};var i=function(e,t){if(!e)return!0;try{return(0,n.default)(e,{protocols:["http","https"],require_protocol:t,require_tld:!1})}catch(e){return!1}};t.handleUniqeKeyMetadata=function(e){var t=new Map,r=e&&Object.entries(e);if(r)for(var n=0,o=r;n<o.length;n++){var a=o[n],i=a[0],l=a[1];t.set(i,l)}return Object.fromEntries(t)},t.handleValidation=function(e){return function(e){if("string"!=typeof e)throw new Error(o.invalidField(o.currencyText));if(!(0,t.checkStringLength)(e))throw new Error(o.blankField(o.currencyText))}(e.currency),function(e){if("number"!=typeof e)throw new Error(o.invalidField(o.amountText));if(e<0)throw new Error(o.amountMustBeGreaterThanOrEqualToZero);if(!function(e){var t=(e+"").split("."),r=!0;return t.forEach((function(e){e.length>a.DIGIT_IN_AMOUNT&&(r=!1)})),r}(e))throw new Error(o.invalidField(o.amountText))}(e.amount),function(e){if(e){if("string"!=typeof e)throw new Error(o.invalidField(o.successUrlText));if(e.length>a.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL)throw new Error(o.handleLengthError(o.successUrlText,a.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL));if(!i(e,!0))throw new Error(o.invalidField(o.successUrlText))}}(e.successUrl),function(e){if(e){if("string"!=typeof e)throw new Error(o.invalidField(o.cancelUrlText));if(e.length>a.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL)throw new Error(o.handleLengthError(o.cancelUrlText,a.MAX_ALLOWED_LENGTH_CANCEL_AND_SUCCESS_URL));if(!i(e,!0))throw new Error(o.invalidField(o.cancelUrlText))}}(e.cancelUrl),function(e){if(e&&!a.DATA_TYPES.includes(typeof e))throw new Error(o.invalidField(o.successMessageText));if(e&&e.toString().length>a.MAX_ALLOWED_LENGTH_SUCCESS_MESSAGE)throw new Error(o.successMessageLengthError)}(e.successMessage),function(e){if("string"==typeof e)throw new Error(o.invalidPaymentMethod);if(e){if(!Array.isArray(e))throw new Error(o.invalidPaymentMethod);if(e.length>a.MAX_ALLOWED_LENGTH_PAYMENT_METHODS)throw new Error(o.paymentMethodsLimitError);if(!e.length)throw new Error(o.paymentMethodArrayEmpty);if(!function(e){var t=!0;return e&&e.forEach((function(e){a.supportedPaymentMethods.includes(e)||(t=!1)})),t}(e))throw new Error(o.invalidPaymentMethod)}}(e.paymentMethods),function(e){if("string"==typeof e)throw new Error(o.invalidMetadata);if(e&&"object"!=typeof e)throw new Error(o.invalidMetadata);var t=e&&Object.entries(e);if(t){if(t.length>a.MAX_ALLOWED_LENGTH_META_DATA)throw new Error(o.limitMetadataError);for(var r=0,n=t;r<n.length;r++){var i=n[r],l=i[0],u=i[1];if(!l.toString().length||!u.toString().length)throw new Error(o.metadataKeyValueBlankError);if(l.toString().length>a.MAX_ALLOWED_LENGTH_KEY)throw new Error(o.handleLengthError(o.keyText,a.MAX_ALLOWED_LENGTH_KEY));if(u.toString().length>a.MAX_ALLOWED_LENGTH_VALUE)throw new Error(o.handleLengthError(o.valueText,a.MAX_ALLOWED_LENGTH_VALUE))}}}(e.metadata),!0}},819:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.valueText=t.keyText=t.metadataKeyValueBlankError=t.limitMetadataError=t.invalidMetadata=t.paymentMethodArrayEmpty=t.paymentMethodsLimitError=t.invalidPaymentMethod=t.successMessageText=t.successMessageLengthError=t.cancelUrlText=t.successUrlText=t.invalidPublishableKey=t.publishableKeyShouldBeString=t.publishableKeyRequired=t.currencyText=t.amountText=t.amountMustBeGreaterThanOrEqualToZero=t.handleLengthError=t.blankField=t.invalidField=void 0,t.invalidField=function(e){return"The ".concat(e," is invalid. Please enter the correct ").concat(e)},t.blankField=function(e){return"".concat(e," must not be blank")},t.handleLengthError=function(e,t){return"".concat(e," length should not be greater than ").concat(t," character")},t.amountMustBeGreaterThanOrEqualToZero="The amount is invalid. It should be greater than or equal to 0.",t.amountText="amount",t.currencyText="currency",t.publishableKeyRequired="Missing value for Speed(): apiKey should be a string.",t.publishableKeyShouldBeString="Please call Speed() with your publishable key. You used an empty string.",t.invalidPublishableKey=function(e){return"Invalid value for Speed(): apiKey should be a string. You specified: ".concat(e,".")},t.successUrlText="successUrl",t.cancelUrlText="cancelUrl",t.successMessageLengthError="Invalid successMessage. It must contain upto 255 characters.",t.successMessageText="successMessage",t.invalidPaymentMethod="Invalid payment method. Your request can not be processed.",t.paymentMethodsLimitError="Please enter maximum of two payment methods.",t.paymentMethodArrayEmpty="Please enter atleast one of two payment methods",t.invalidMetadata="Invalid metadata. Your request can not be processed.",t.limitMetadataError="You can only provide 50 metadata key value",t.metadataKeyValueBlankError="metadata key or value cannot be blank",t.keyText="Key",t.valueText="Value"},221:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e),(t=(0,o.default)(t,i)).allow_trailing_dot&&"."===e[e.length-1]&&(e=e.substring(0,e.length-1)),!0===t.allow_wildcard&&0===e.indexOf("*.")&&(e=e.substring(2));var r=e.split("."),a=r[r.length-1];if(t.require_tld){if(r.length<2)return!1;if(!/^([a-z\u00A1-\u00A8\u00AA-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}|xn[a-z0-9-]{2,})$/i.test(a))return!1;if(/\s/.test(a))return!1}return!(!t.allow_numeric_tld&&/^\d+$/.test(a))&&r.every((function(e){return!(e.length>63||!/^[a-z_\u00a1-\uffff0-9-]+$/i.test(e)||/[\uff01-\uff5e]/.test(e)||/^-|-$/.test(e)||!t.allow_underscores&&/_/.test(e))}))};var n=a(r(571)),o=a(r(808));function a(e){return e&&e.__esModule?e:{default:e}}var i={require_tld:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_numeric_tld:!1,allow_wildcard:!1};e.exports=t.default,e.exports.default=t.default},28:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if((0,o.default)(t),!(r=String(r)))return e(t,4)||e(t,6);if("4"===r){if(!l.test(t))return!1;var n=t.split(".").sort((function(e,t){return e-t}));return n[3]<=255}return"6"===r&&!!c.test(t)};var n,o=(n=r(571))&&n.__esModule?n:{default:n},a="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",i="(".concat(a,"[.]){3}").concat(a),l=new RegExp("^".concat(i,"$")),u="(?:[0-9a-fA-F]{1,4})",c=new RegExp("^("+"(?:".concat(u,":){7}(?:").concat(u,"|:)|")+"(?:".concat(u,":){6}(?:").concat(i,"|:").concat(u,"|:)|")+"(?:".concat(u,":){5}(?::").concat(i,"|(:").concat(u,"){1,2}|:)|")+"(?:".concat(u,":){4}(?:(:").concat(u,"){0,1}:").concat(i,"|(:").concat(u,"){1,3}|:)|")+"(?:".concat(u,":){3}(?:(:").concat(u,"){0,2}:").concat(i,"|(:").concat(u,"){1,4}|:)|")+"(?:".concat(u,":){2}(?:(:").concat(u,"){0,3}:").concat(i,"|(:").concat(u,"){1,5}|:)|")+"(?:".concat(u,":){1}(?:(:").concat(u,"){0,4}:").concat(i,"|(:").concat(u,"){1,6}|:)|")+"(?::((?::".concat(u,"){0,5}:").concat(i,"|(?::").concat(u,"){1,7}|:))")+")(%[0-9a-zA-Z-.:]{1,})?$");e.exports=t.default,e.exports.default=t.default},492:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if((0,n.default)(e),!e||/[\s<>]/.test(e))return!1;if(0===e.indexOf("mailto:"))return!1;if((t=(0,i.default)(t,c)).validate_length&&e.length>=2083)return!1;if(!t.allow_fragments&&e.includes("#"))return!1;if(!t.allow_query_components&&(e.includes("?")||e.includes("&")))return!1;var r,l,f,h,_,p,E,y,v;if(E=e.split("#"),e=E.shift(),E=e.split("?"),e=E.shift(),(E=e.split("://")).length>1){if(r=E.shift().toLowerCase(),t.require_valid_protocol&&-1===t.protocols.indexOf(r))return!1}else{if(t.require_protocol)return!1;if("//"===e.substr(0,2)){if(!t.allow_protocol_relative_urls)return!1;E[0]=e.substr(2)}}if(""===(e=E.join("://")))return!1;if(E=e.split("/"),""===(e=E.shift())&&!t.require_host)return!0;if((E=e.split("@")).length>1){if(t.disallow_auth)return!1;if(""===E[0])return!1;if((l=E.shift()).indexOf(":")>=0&&l.split(":").length>2)return!1;var g=(2,function(e){if(Array.isArray(e))return e}(v=l.split(":"))||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,o=!1,a=void 0;try{for(var i,l=e[Symbol.iterator]();!(n=(i=l.next()).done)&&(r.push(i.value),2!==r.length);n=!0);}catch(e){o=!0,a=e}finally{try{n||null==l.return||l.return()}finally{if(o)throw a}}return r}}(v)||function(e,t){if(e){if("string"==typeof e)return u(e,2);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(e,2):void 0}}(v)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),A=g[0],L=g[1];if(""===A&&""===L)return!1}p=null,y=null;var m=(h=E.join("@")).match(s);if(m?(f="",y=m[1],p=m[2]||null):(f=(E=h.split(":")).shift(),E.length&&(p=E.join(":"))),null!==p&&p.length>0){if(_=parseInt(p,10),!/^[0-9]+$/.test(p)||_<=0||_>65535)return!1}else if(t.require_port)return!1;return t.host_whitelist?d(f,t.host_whitelist):!!((0,a.default)(f)||(0,o.default)(f,t)||y&&(0,a.default)(y,6))&&(f=f||y,!t.host_blacklist||!d(f,t.host_blacklist))};var n=l(r(571)),o=l(r(221)),a=l(r(28)),i=l(r(808));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var c={protocols:["http","https","ftp"],require_tld:!0,require_protocol:!1,require_host:!0,require_port:!1,require_valid_protocol:!0,allow_underscores:!1,allow_trailing_dot:!1,allow_protocol_relative_urls:!1,allow_fragments:!0,allow_query_components:!0,validate_length:!0},s=/^\[([^\]]+)\](?::([0-9]+))?$/;function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];if(e===n||(o=n,"[object RegExp]"===Object.prototype.toString.call(o)&&n.test(e)))return!0}var o;return!1}e.exports=t.default,e.exports.default=t.default},571:(e,t)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!("string"==typeof e||e instanceof String)){var t=r(e);throw null===e?t="null":"object"===t&&(t=e.constructor.name),new TypeError("Expected a string but received a ".concat(t))}},e.exports=t.default,e.exports.default=t.default},808:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;for(var r in t)void 0===e[r]&&(e[r]=t[r]);return e},e.exports=t.default,e.exports.default=t.default}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}var n={};return(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.Speed=void 0;var t=r(33),o=r(917);function a(e){(0,t.validatePublishableKey)(e)&&(this.publishableKey=e)}e.Speed=a,a.prototype.createCheckoutSession=function(e){if((0,t.handleValidation)(e)){var r={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Basic ".concat(btoa(this.publishableKey)),"speed-version":o.speedVersion},body:JSON.stringify({currency:e.currency,amount:e.amount,success_url:e.successUrl,cancel_url:e.cancelUrl,success_message:e.successMessage,payment_methods:e.paymentMethods,metadata:(0,t.handleUniqeKeyMetadata)(e.metadata)})};fetch("".concat(o.apiUrlDev,"/payment-page"),r).then((function(e){return e.json()})).then((function(e){e.url&&(window.location.href=e.url)})).catch((function(e){return console.error("Error!",e)}))}}})(),n})()));